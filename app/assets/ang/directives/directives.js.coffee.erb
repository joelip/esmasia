app = angular.module('esmTestDirectives', [])

app.directive 'scrollOnClick', ->
  restrict: 'A',
  link: (scope, element, attrs) ->
    idToScroll = attrs.href
    element.on('click', ->
      if idToScroll
        $target = $(idToScroll)
      else
        $target = element
      $("body").velocity({scrollTop: $target.offset().top}, {duration: 1000});
    )

app.directive 'tbModal', ['$rootScope', ($rootScope) ->
  restrict: 'EA',
  templateUrl: '<%= asset_path("templates/directives/registration.modal.html") %>'
]

app.directive 'processing', ['$rootScope', ($rootScope) ->
  restrict: 'A',
  link: (scope, element, attrs) ->

    $rootScope.$on('processingPayment', ->
      element.html('processing <i class="ion-refreshing></i>')
    )
    
]